/**
 * Raspberry Pi v3 physical pin numbers
 */
const PINS = {
  RST: 11,
  DC: 22,
  BUSY: 18,
  CS: 24
};

const EPD_MODES = {
  FULL: Symbol('full'),
  PARTIAL: Symbol('partial')
};

const SPIDEV_MAXPATH = 4096;
const SPIDEV_MAXSPEED = 2000000;


# EPD7IN5 commands
const COMMANDS = {
  PANEL_SETTING: [0x00, 0xCF, 0x08],
  POWER_SETTING: [0x01, 0x37, 0x00],
  POWER_OFF: [0x02],
  POWER_OFF_SEQUENCE_SETTING: [0x03],
  POWER_ON: [0x04],
  POWER_ON_MEASURE: [0x05],
  BOOSTER_SOFT_START: [0x06, 0xc7, 0xcc, 0x28],
  DEEP_SLEEP: [0x07],
  DATA_START_TRANSMISSION_1: [0x10],
  DATA_STOP: [0x11],
  DISPLAY_REFRESH: [0x12],
  IMAGE_PROCESS: [0x13],
  LUT_FOR_VCOM: [0x20],
  LUT_BLUE: [0x21],
  LUT_WHITE: [0x22],
  LUT_GRAY_1: [0x23],
  LUT_GRAY_2: [0x24],
  LUT_RED_0: [0x25],
  LUT_RED_1: [0x26],
  LUT_RED_2: [0x27],
  LUT_RED_3: [0x28],
  LUT_XON: [0x29],
  PLL_CONTROL: [0x30, 0x3c],
  TEMPERATURE_SENSOR_COMMAND: [0x40],
  TEMPERATURE_CALIBRATION: [0x41, 0x00],
  TEMPERATURE_SENSOR_WRITE: [0x42],
  TEMPERATURE_SENSOR_READ: [0x43],
  VCOM_AND_DATA_INTERVAL_SETTING: [0x50, 0x77],
  LOW_POWER_DETECTION: [0x51],
  TCON_SETTING: [0x60, 0x22],
  TCON_RESOLUTION: [0x61, 0x02, 0x80, 0x01, 0x80],
  SPI_FLASH_CONTROL: [0x65],
  REVISION: [0x70],
  GET_STATUS: [0x71],
  AUTO_MEASUREMENT_VCOM: [0x80],
  READ_VCOM_VALUE: [0x81],
  VCM_DC_SETTING: [0x82, 0x1E],
  FLASH_MODE: [0xe5, 0x03],
}

// const COMMANDS = {
//   DUMMY_LINE: [0x3a, 0x1a],
//   GATE_TIME: [0x3b, 0x08],
//   RAM_DATA_ENTRY_MODE: [0x11, 0x01],
//   SOFT_START: [0x0c, 0xd7, 0xd6, 0x9d],
//   VCOM_VOL: [0x2c, 0xa8]
// };

const EPD7IN5 = {
  xSize: 648,
  ySize: 384,
};

const EPD1X54 = {
  xSize: 200,
  ySize: 200,
  GDO_CONTROL: [0x01, (200 - 1) % 256, Math.floor((200 - 1) / 256), 0x00]
};

EPD1X54.LUT_DEFAULT_FULL = [
  0x32,
  0x02,
  0x02,
  0x01,
  0x11,
  0x12,
  0x12,
  0x22,
  0x22,
  0x66,
  0x69,
  0x69,
  0x59,
  0x58,
  0x99,
  0x99,
  0x88,
  0x00,
  0x00,
  0x00,
  0x00,
  0xf8,
  0xb4,
  0x13,
  0x51,
  0x35,
  0x51,
  0x51,
  0x19,
  0x01,
  0x00
];

EPD1X54.LUT_DEFAULT_PART = [
  0x32,
  0x10,
  0x18,
  0x18,
  0x08,
  0x18,
  0x18,
  0x08,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x13,
  0x14,
  0x44,
  0x12,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00,
  0x00
];

module.exports = {
  PINS: PINS,
  COMMANDS: COMMANDS,
  EPD_MODES: EPD_MODES,
  EPD7IN5: EPD7IN5,
  SPIDEV_MAXPATH: SPIDEV_MAXPATH,
  SPIDEV_MAXSPEED: SPIDEV_MAXSPEED
};
